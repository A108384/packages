name       : fontconfig
version    : 2.15.0
release    : 40
source     :
    - https://www.freedesktop.org/software/fontconfig/release/fontconfig-2.15.0.tar.xz : 63a0658d0e06e0fa886106452b58ef04f21f58202ea02a94c39de0d3335d7c0e
homepage   : https://www.freedesktop.org/wiki/Software/fontconfig/
license    :
    - MIT
    - HPND
summary    : Font configuration utilities
component  : desktop.library
description: |
    The Fontconfig package contains a library and support programs used for configuring and customizing font access
builddeps  :
    - pkgconfig32(expat)
    - pkgconfig32(freetype2)
    - pkgconfig32(uuid)
    - gperf
rundeps    :
    - 32bit : harfbuzz-32bit
    - harfbuzz
emul32     : yes
setup      : |
    %apply_patches
    %reconfigure --disable-static \
                 --with-default-hinting=slight \
                 --with-baseconfigdir=/usr/share/fonts \
                 --with-configdir=/usr/share/fonts/conf.d
build      : |
    %make
install    : |
    %make_install
    if [[ -z "${EMUL32BUILD}" ]]; then
        install -Dm00644 $pkgfiles/fontconfig.tmpfiles $installdir/%libdir%/tmpfiles.d/fontconfig.conf
    fi
    rm -rf $installdir/usr/share/doc

    # Stateless
    rmdir -v $installdir/var/cache/fontconfig \
             $installdir/var/cache/ \
             $installdir/var/
