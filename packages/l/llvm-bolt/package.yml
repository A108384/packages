name       : llvm-bolt
version    : 18.1.2
release    : 5
source     :
    - https://github.com/llvm/llvm-project/releases/download/llvmorg-18.1.2/llvm-project-18.1.2.src.tar.xz : 51073febd91d1f2c3b411d022695744bda322647e76e0b4eb1918229210c48d5
homepage   : https://github.com/llvm/llvm-project/blob/main/bolt/README.md
license    : Apache-2.0
component  : programming.tools
summary    : Binary Optimization and Layout Tool.
description: |
    BOLT is a post-link optimizer developed to speed up large applications. It achieves the improvements by optimizing application's code layout based on execution profile gathered by sampling profiler, such as Linux perf tool.
patterns   :
    - /usr/lib/libbolt_rt*.a
clang      : yes
builddeps  :
    - git
setup      : |
    %cmake_ninja -S llvm \
        -DLLVM_INSTALL_UTILS=ON \
        -DBUILD_SHARED_LIBS:BOOL=OFF \
        -DLLVM_LINK_LLVM_DYLIB:BOOL=OFF \
        -DLLVM_ENABLE_PROJECTS="bolt" \
        -DLLVM_TARGETS_TO_BUILD="X86" \
build      : |
    %ninja_build bolt
install    : |
    DESTDIR=$installdir %ninja_build install-bolt
