name       : mypaint
version    : 1.2.1
release    : 16
source     :
    - https://github.com/mypaint/mypaint/releases/download/v1.2.1/mypaint-1.2.1.tar.xz : ed2349382f6a0c583d7defae06427e97ac7d14acb77b9e2c0fc7171ddd96d3c7
license    : GPL-2.0-or-later
component  : multimedia.graphics
summary    : MyPaint is a simple drawing and painting program that works well with
    Wacom-style graphics tablets
description: |
    MyPaint is a simple drawing and painting program that works well with Wacom-style graphics tablets.
homepage   : http://mypaint.org/
builddeps  :
    - pkgconfig(gtk+-3.0)
    - pkgconfig(json-c)
    - pkgconfig(lcms2)
    - pkgconfig(pygobject-3.0)
    - python2-numpy
    - python-protobuf
    - scons
    - swig
rundeps    :
    - python2-numpy
    - python-cairo
    - python-gobject2
    - python-protobuf
setup      : |
    %patch -p1 < $pkgfiles/swig4.patch
    %patch -p1 < $pkgfiles/inking-tool.patch
    %patch -p1 < $pkgfiles/mypaint-1.2.1-json-c-boolean-defs.patch
build      : |
    scons
install    : |
    scons prefix=$installdir/usr install
    # Nuke devel crap - we have libmypaint
    rm -rf $installdir/usr/lib/*.a
    rm -rf $installdir/usr/lib/pkgconfig
    rm -rf $installdir/usr/include
    rm -rf $installdir/usr/share/locale
