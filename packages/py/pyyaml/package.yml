name       : pyyaml
version    : 6.0.1
release    : 18
source     :
    - https://pypi.debian.net/PyYAML/PyYAML-6.0.1.tar.gz : bfdf460b1736c775f2ba9f6a92bca30bc2095067b8a9d77876d1fad6cc3b4a43
    - https://pypi.debian.net/PyYAML/PyYAML-5.4.1.tar.gz : 607774cbba28732bfa802b54baa7484215f530991055bb562efbed5b2f20a45e
extract    : no
license    : MIT
component  : programming.python
summary    : Python YAML binding
description: |
    YAML is a data serialization format designed for human readability and interaction with scripting languages.
builddeps  :
    - pkgconfig(python3)
    - pkgconfig(yaml-0.1)
    - cython
    - python-build
    - python-installer
    - python-setuptools
    - python-wheel
build      : |
    mkdir py2 py3
    tar --strip-components=1 -xf $sources/PyYAML-5.4.1.tar.gz -C py2
    tar --strip-components=1 -xf $sources/PyYAML-$version.tar.gz -C py3

    pushd py2
    python2.7 setup.py build
    popd

    pushd py3
    python3 -m build --wheel --no-isolation
    popd
install    : |
    pushd py2
    python2.7 setup.py install --root="%installroot%"
    popd

    pushd py3
    python3 -m installer --destdir=%installroot% dist/*.whl
    popd
check      : |
    pushd py2
    %python_test
    popd

    pushd py3
    %python3_test
    popd
